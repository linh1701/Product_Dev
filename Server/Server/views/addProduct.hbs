<div class="content-wrapper">
    <div class="container">
        <div class="row">
            <div class="col-md-3">

            </div>
            <div class="col-md-6 col-sm-6 col-xs-12">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                        Compose a Message
                    </div>
                    <div class="panel-body">
                        <form role="form" method="post" action="/san-pham"
                        enctype="multipart/form-data">
                            <div class="form-group">
                                <label>Tên sản phẩm</label>
                                <input class="form-control"  type="text" name="name" id="name" onchange="validation()"/>
                            </div>
                            <div class="form-group">
                                <label>Giá sản phẩm</label>
                                <input class="form-control"  type="number" name="price" id="price" onchange="validation()"/>
                            </div>
                            <div class="form-group">
                                <label>Số lượng</label>
                                <input class="form-control"  type="number"
                                    name="quantity" id="quantity" onchange="validation()"/>
                            </div>
                            <div class="form-group">
                                <label>Ngày sản xuất</label>
                                <input class="form-control"type="date"
                                id="released" name="released" onchange="validation()"/>
                            </div>
                            <div class="form-group">
                                <label>Hình ảnh</label>
                                <input onchange="onChangeFile();" class="form-control" id="image-file" type="file" name="image" />
                                <img style="display: none; object-fit: cover;" src="" width="200" height="230" id="image-view" />
                            </div>
                            <div class="form-group">
                                <label>Mô tả</label>
                                <textarea class="form-control" name="description"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Danh mục</label>
                                <select  class="form-control" name="category_id">
                                    {{#each categories}} 
                                    <option name="category_id" value="{{this._id}}">{{this.name}}</option>
                                    {{/each}}
                                </select>
                            </div>
                            <div class="row"> 
                                <div class="col-md-4"></div>
                                <div class="col-md-5">
                                    <button type="submit" disabled id="submit" class="btn btn-success">Lưu</button>
                                </div>
                                <div class="col-md-1"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-3">

            </div>
        </div>
        <!--/.ROW-->
    </div>
</div>
<!-- CONTENT-WRAPPER SECTION END-->
<section class="footer-section">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                &copy; 2014 Yourdomain.com |<a href="http://www.binarytheme.com/" target="_blank"> Designed by :
                    binarytheme.com</a>
            </div>

        </div>
    </div>
</section>

<script>
    const onChangeFile = () => {
        const file = document.getElementById('image-file').files[0];
        const reader = new FileReader();
        reader.onload = e => {
            document.getElementById('image-view').src = e.target.result;
            document.getElementById('image-view').style.display = 'block';
        }
        reader.readAsDataURL(file);
    }

   const validation = () =>{
       const name = document.getElementById('name').value;
       const price = document.getElementById('price').value;
       const quantity = document.getElementById('quantity').value;
       const released = document.getElementById('released').value;
       const submit = document.getElementById('submit');

       if(!name || name.trim().length == 0){
           submit.disabled = true;
       }else{
           submit.disabled = false;
       }
       
   }
</script>